# 千军Rank系统使用手册 v1.0（20200228）

```bash
#    _____             _     _____           _                 
#   |  __ \           | |   / ____|         | |                
#   | |__) |__ _ _ __ | | _| (___  _   _ ___| |_ ___ _ __ ___  
#   |  _  // _` | '_ \| |/ /\___ \| | | / __| __/ _ \ '_ ` _ \ 
#   | | \ \ (_| | | | |   < ____) | |_| \__ \ ||  __/ | | | | |
#   |_|  \_\__,_|_| |_|_|\_\_____/ \__, |___/\__\___|_| |_| |_|
#                                   __/ |                       
#                                  |___/                      
#     Date: 2020.02.28
#      Ver: 1.0
#   Author: @翔翔 @剁刀师甲
```

## 0x01 总体目标

- 建立货币及奖励系统RankSystem，发行可自由流通货币RankCoin（简称Rank）。

- 在Rank框架之下，建立一套基础知识问答子系统FlyWind（福利问答），增进群成员技术讨论及交流，营造良好的群生态空间。
- 系统基于Python + Golang + Redis + MySQL实现



## 0x02 关于RankCoin

- Rank是一个通货紧缩系统，RankCoin总量恒定=210,000 枚，起始的21w枚均属于系统。 每天发放数量18枚，一年发放6570枚，从系统中扣除，转账到个人账户。
- Rank支持群成员之间相互转账，但已完成交易均**不可回滚**。
- 用户可获得RankCoin的场景
  - 答对猜词题 (+8 Rank)
  - 答对计算题 (+10 Rank)
  - 提出了有价值的建议或意见 (+1 ~ 10 Rank)
  - 发现了有价值漏洞 (+5 ~ 20 Rank)
  - 提交了原创工具、文章 (+5 ~ 20 Rank)
  - 在群中积极发言，可随机(+1 ~ 3 Rank)
  - 得到其他成员的转账
- 用户可支出RankCoin的场景
  - 支付Rank币看福利图片 (-2 Rank/张)
  - 转账给其他成员
  - 购买群提供的服务
  - 兑换奖品
  - 其他场景



## 0x03 FlyWind子系统

Flywind（福利问答）子系统是一套促进群交流的基础知识问答系统。每天上午，flywind会选择一个随机时间段发布一道猜词题，群成员采取抢答方式答题，首名答对成员可以获得Rank奖励。每天下午，flywind会选择一个随机时间段发布一道计算题，群成员采取抢答方式答题，首名答对成员可以获得Rank奖励。



## 0x04 支持命令列表

**当前私聊支持的命令：**

- /rank - 获取本人rank值
- /profile - 获取本人的个人资料（备用）
- /history 10- 获取本人最近10条rank收入、支出记录
- /history 20- 获取本人最近20条rank收入、支出记录
- /top10 - 获取rank值最高的10人
- /top20 - 获取rank值最高的20人

**当前群聊支持的命令**：

- @某人 send:1 - 向某人转账1 rank
- @某人 bonus:1 - 向某人奖励1 rank（从系统账户中转出，**只能由管理员操作**）。此功能除了奖励外也可用来在系统无法发出奖励的时候，手动发币给用户。
- /fly 4 - 请求bot发出4张福利图，扣除8 rank值



## 0x05 聊天奖励系统

系统对发言的群友以2% ~ 3%的概率随机触发奖励 1 ~ 3 Rank
